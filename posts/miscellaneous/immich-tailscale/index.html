<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  
  
    
  
  <meta name="description" content="Turn old hardware into a secure, private photo and video server using Immich and Tailscale.">

  <title>Private Photo Server with Immich &amp; Tailscale</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://sudo-prem.github.io/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://sudo-prem.github.io/img/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://sudo-prem.github.io/img/apple-touch-icon.png">
  
  <style>
  /* light mode colors */
  body {
    --primary-color: #5871a2;
    --primary-pale-color: #5871a233;
    --primary-decoration-color: #5871a210;
    --bg-color: #ffffff;
    --text-color: #2f3030;
    --text-pale-color: #767676;
    --text-decoration-color: #a9a9a9;
    --highlight-mark-color: #5f75b020;

    --callout-note-color: #5871a2;
    --callout-tip-color: #268556;
    --callout-important-color: #885fc9;
    --callout-warning-color: #ab6632;
    --callout-caution-color: #c64e4e;
  }

  /* dark mode colors */
  body.dark {
    --primary-color: #6f8fd1;
    --primary-pale-color: #6f8fd166;
    --primary-decoration-color: #6f8fd112;
    --bg-color: #1c1c1c;
    --text-color: #c1c1c1;
    --text-pale-color: #848484;
    --text-decoration-color: #5f5f5f;
    --highlight-mark-color: #8296cb3b;

    --callout-note-color: #6f8fd1;
    --callout-tip-color: #47976f;
    --callout-important-color: #9776cd;
    --callout-warning-color: #ad7a52;
    --callout-caution-color: #d06161;
  }

  /* typography */
  body {
    --main-font: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --code-font: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    --homepage-max-width: 768px;
    --main-max-width: 768px;
    --avatar-size: 60px;
    --font-size: 14.4px;
    --line-height: 1.75;
    --img-border-radius: 0px;
    --detail-border-radius: 0px;
    --dark-mode-img-brightness: 0.75;
    --dark-mode-chart-brightness: 0.75;
    --inline-code-border-radius: 2px;
    --inline-code-bg-color: var(--primary-decoration-color);
    --block-code-border-radius: 0px;
    --block-code-border-color: var(--primary-color);
    --detail-border-color: var(--primary-color);
  }

  /* Post headings styling */
  main.layout-list .category {
    font-size: 1.15em !important;
    margin-top: 2.5em !important;
    margin-bottom: 0.5em !important;
  }

  /* Horizontal lines between post segments */
  main.layout-list .post-list {
    position: relative;
  }

  main.layout-list .post-list:not(:last-child)::after {
    content: '';
    display: block;
    width: 100%;
    height: 1px;
    background: var(--text-decoration-color);
    margin: 2em 0;
    opacity: 0.5;
  }
</style>

  <link rel="stylesheet" href="https://sudo-prem.github.io/main.css">
  

<link id="hl" rel="stylesheet" type="text/css" href="/giallo-light.css" />



  
</head>

<body class="post">
  
  <script>
    const theme = sessionStorage.getItem('theme');
    const match = window.matchMedia("(prefers-color-scheme: dark)").matches;
    if ((theme && theme == 'dark') || (!theme && match)) {
      document.body.classList.add('dark');
      const hl = document.querySelector('link#hl');
      if (hl) hl.href = 'https://sudo-prem.github.io/giallo-dark.css';
    }
  </script>
  
  
<div id="wrapper">
  <div id="blank"></div>
  <aside>
    
    
    <nav>
      <ul>
        
        <li>
          <a class="h2" href="#from-paperweight-to-private-cloud">From Paperweight to Private Cloud</a>
          
        </li>
        
        <li>
          <a class="h2" href="#part-1-the-engine-immich-setup">Part 1: The Engine (Immich Setup)</a>
          
          <ul>
            
            <li>
              <a class="h3" href="#prepping-the-environment">Prepping the Environment</a>
            </li>
            
            <li>
              <a class="h3" href="#configuration-secrets">Configuration &amp; Secrets</a>
            </li>
            
            <li>
              <a class="h3" href="#the-macos-gotcha-colima-users-read-this">The macOS &quot;Gotcha&quot; (Colima Users Read This)</a>
            </li>
            
          </ul>
          
        </li>
        
        <li>
          <a class="h2" href="#part-2-the-teleporter-tailscale-access">Part 2: The Teleporter (Tailscale Access)</a>
          
        </li>
        
        <li>
          <a class="h2" href="#one-last-tweak-the-insomniac-mac">One Last Tweak: The Insomniac Mac</a>
          
        </li>
        
        <li>
          <a class="h2" href="#the-result">The Result</a>
          
        </li>
        
      </ul>
    </nav>
    
    
    <button id="back-to-top" aria-label="back to top">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>

    </button>
    
  </aside>
  <main>
    
<header>
  <nav>
    <a id="back-link" href="https:&#x2F;&#x2F;sudo-prem.github.io&#x2F;posts">← Back</a>
  </nav>
</header>


    <div>
      
      
      
      
      <div id="copy-cfg" style="display: none;" data-copy-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" data-check-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
"></div>
      
      <article class="prose">
        <h1>Private Photo Server with Immich &amp; Tailscale</h1>
        <div id="post-info">
          <div id="date">
            <span id="publish">Jan 9, 2026</span>
            </div>

          
        </div>

        
        

        

        <h2 id="from-paperweight-to-private-cloud">From Paperweight to Private Cloud</h2>
<p>We all have one that aging laptop sitting in a drawer, too slow for daily work but too valuable to toss. I decided to give my old MacBook a second life. The goal? A completely private, self hosted photo server accessible from anywhere in the world without paying a cent in subscription fees.</p>
<p>The stack is simple but powerful. <strong>Immich</strong> (the best open-source alternative to Google Photos) running on <strong>Docker</strong>, exposed securely via <strong>Tailscale</strong>.</p>
<p><img src="/img/posts/macbook-setup-shot.png" alt="Photo of the old MacBook setup on a desk" /></p>
<h2 id="part-1-the-engine-immich-setup">Part 1: The Engine (Immich Setup)</h2>
<p>Immich is heavy duty software, but setting it up via Docker is surprisingly straightforward.</p>
<h3 id="prepping-the-environment">Prepping the Environment</h3>
<p>I created a home for the app and grabbed the official Docker configuration files:</p>
<pre class="giallo z-code"><code data-lang="shellscript"><span class="giallo-l"><span class="z-entity z-name">mkdir</span><span class="z-string"> ./immich-app</span><span> &amp;&amp;</span><span class="z-support"> cd</span><span class="z-string"> ./immich-app</span></span>
<span class="giallo-l"><span class="z-entity z-name">wget</span><span class="z-constant"> -</span><span class="z-constant">O</span><span class="z-string"> docker-compose.yml</span><span class="z-string"> https://github.com/immich-app/immich/releases/latest/download/docker-compose.yml</span></span>
<span class="giallo-l"><span class="z-entity z-name">wget</span><span class="z-constant"> -</span><span class="z-constant">O</span><span class="z-string"> .env</span><span class="z-string"> https://github.com/immich-app/immich/releases/latest/download/example.env</span></span></code></pre><h3 id="configuration-secrets">Configuration &amp; Secrets</h3>
<p>The <code>.env</code> file controls the show. I tweaked the defaults to secure the database and point the storage to a dedicated local folder.</p>
<blockquote>
<p>Update IMMICH_ADMIN_PASSWORD and DB_PASSWORD with strong passwords, set the UPLOAD_LOCATION and DB_DATA_LOCATION paths to your preferred local directories, and configure your timezone in TZ.</p>
</blockquote>
<p><img src="/img/posts/env-config-editor.png" alt="Screenshot of diff showing the .env configuration" />
<em>Configuring the environment variables for security and storage.</em></p>
<h3 id="the-macos-gotcha-colima-users-read-this">The macOS "Gotcha" (Colima Users Read This)</h3>
<p>Since I run <strong>Colima</strong> instead of Docker Desktop, standard bind mounts can cause permission headaches. I modified <code>docker-compose.yml</code> to use named volumes for the database, ensuring stability.</p>
<blockquote>
<p><strong>The Fix:</strong> Change the postgres volume from a direct path to a named volume.</p>
</blockquote>
<pre class="giallo z-code"><code data-lang="yaml"><span class="giallo-l"><span class="z-entity z-name z-tag">s</span><span class="z-entity z-name z-tag">ervices</span><span>:</span></span>
<span class="giallo-l"><span class="z-entity z-name z-tag">  d</span><span class="z-entity z-name z-tag">atabase</span><span>:</span></span>
<span class="giallo-l"><span class="z-entity z-name z-tag">    v</span><span class="z-entity z-name z-tag">olumes</span><span>:</span></span>
<span class="giallo-l"><span>      -</span><span class="z-string"> p</span><span class="z-string">gdata:/var/lib/postgresql/data</span><span class="z-punctuation z-definition z-comment"> #</span><span class="z-comment"> Changed from direct path</span></span>
<span class="giallo-l"></span>
<span class="giallo-l"><span class="z-entity z-name z-tag">v</span><span class="z-entity z-name z-tag">olumes</span><span>:</span></span>
<span class="giallo-l"><span class="z-entity z-name z-tag">  p</span><span class="z-entity z-name z-tag">gdata</span><span>:</span><span class="z-punctuation z-definition z-comment"> #</span><span class="z-comment"> Define the volume at the bottom</span></span>
<span class="giallo-l"><span class="z-entity z-name z-tag">  m</span><span class="z-entity z-name z-tag">odel-cache</span><span>:</span></span></code></pre>
<p>With the config patched, I fired it up:</p>
<pre class="giallo z-code"><code data-lang="shellscript"><span class="giallo-l"><span class="z-entity z-name">docker</span><span class="z-string"> compose</span><span class="z-string"> up</span><span class="z-constant"> -</span><span class="z-constant">d</span></span></code></pre><h2 id="part-2-the-teleporter-tailscale-access">Part 2: The Teleporter (Tailscale Access)</h2>
<p>Getting Immich running locally is easy; securely accessing it from a coffee shop is usually hard. <strong>Tailscale</strong> makes it trivial.</p>
<p>I installed the Tailscale macOS client, logged in, and ran a single "magic" command in the terminal:</p>
<pre class="giallo z-code"><code data-lang="shellscript"><span class="giallo-l"><span class="z-entity z-name">tailscale</span><span class="z-string"> serve</span><span class="z-constant"> 2283</span></span></code></pre>
<p><img src="/img/posts/tailscale-terminal.png" alt="Screenshot of the terminal running the tailscale serve command" />
<em>One command to expose the local server to my private network.</em></p>
<p>Just like that, my local Immich instance (running on port 2283) was instantly accessible to every device on my Tailnet. No port forwarding, no firewall headaches, just an encrypted peer-to-peer tunnel.</p>
<h2 id="one-last-tweak-the-insomniac-mac">One Last Tweak: The Insomniac Mac</h2>
<p>Since this MacBook will likely live on a shelf with its lid closed ("headless" mode), we need to ensure macOS doesn't suspend the system the moment we shut it.</p>
<p>Run this command to prevent the Mac from ever sleeping:</p>
<pre class="giallo z-code"><code data-lang="shellscript"><span class="giallo-l"><span class="z-entity z-name">sudo</span><span class="z-string"> pmset</span><span class="z-constant"> -</span><span class="z-constant">a</span><span class="z-string"> disablesleep</span><span class="z-constant"> 1</span></span></code></pre>
<p>Now you can close the lid, tuck the laptop away, and it will keep running 24/7.</p>
<blockquote>
<p><strong>To Revert:</strong> If you ever want to use this as a normal laptop again, just run <code>sudo pmset -a disablesleep 0</code> to restore normal sleep behavior.</p>
</blockquote>
<h2 id="the-result">The Result</h2>
<p>I now have a robust, AI-powered photo management system running on hardware I already owned.</p>
<ul>
<li><strong>Speed:</strong> Local network uploads are blazing fast.</li>
<li><strong>Privacy:</strong> My data never leaves my hardware.</li>
<li><strong>Access:</strong> Using the Immich mobile app, I can back up photos from anywhere as if I were sitting next to the server.</li>
</ul>
<p><img src="/img/posts/immich-final-dashboard.png" alt="Screenshot of the Immich Dashboard populated with photos" />
<em>The Immich dashboard running smoothly on the resurrected Mac.</em></p>
<p>If you have an old laptop gathering dust, this is the sign you've been waiting for. Wipe it, Dockerize it, and reclaim your digital memories.</p>

      </article>

      
      

      
      
    </div>

    


<footer>
  <div class="left">
    <div class="copyright">
      © 2025 Premnaath Varadharajan
      
    </div>
  </div>

  <div class="right">
    
    
      
    
    
    <a id="rss-btn" href="https://sudo-prem.github.io/posts/feed.xml">RSS</a>
    
    

    
    
    
    <button id="theme-toggle" aria-label="theme switch">
      <span class="moon-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill="currentColor"></path></svg>
</span>
      <span class="sun-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" fill="currentColor"></path></svg>
</span>
    </button>
    
  </div>
</footer>




<dialog id="rss-mask">
  <div>
    <a href="https:&#x2F;&#x2F;sudo-prem.github.io&#x2F;posts&#x2F;feed.xml">https:&#x2F;&#x2F;sudo-prem.github.io&#x2F;posts&#x2F;feed.xml</a>
    
    
    <button autofocus aria-label="copy" data-link="https:&#x2F;&#x2F;sudo-prem.github.io&#x2F;posts&#x2F;feed.xml" data-copy-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" data-check-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>

    </button>
  </div>
</dialog>



  </main>
</div>

  
<script src="/js/lightense.min.js"></script>


  <script src="https://sudo-prem.github.io/js/main.js"></script>
</body>

</html>
